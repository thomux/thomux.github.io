<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Project Jira Ticket Stats :: Thomux</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A small tool to evaluate Jira tickets." />
<meta name="keywords" content="jira, stats, evaluate, go" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://thomux.eu/posts/project-jira-ticket-stats/" />




<link rel="stylesheet" href="https://thomux.eu/assets/style.css">

  <link rel="stylesheet" href="https://thomux.eu/assets/green.css">






<link rel="apple-touch-icon" href="https://thomux.eu/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://thomux.eu/thomux_square.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:creator" content="thomuxeu" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Project Jira Ticket Stats">
<meta property="og:description" content="A small tool to evaluate Jira tickets." />
<meta property="og:url" content="https://thomux.eu/posts/project-jira-ticket-stats/" />
<meta property="og:site_name" content="Thomux" />

  <meta property="og:image" content="https://thomux.eu/">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2021-11-29 08:47:37 &#43;0100 CET" />












</head>
<body class="green">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Thomux
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/contact">Contact</a></li>
        
      
      
        <ul class="menu__sub-inner">
          <li class="menu__sub-inner-more-trigger">Show more ▾</li>

          <ul class="menu__sub-inner-more hidden">
            
              
                <li><a href="https://github.com/thomux">Github</a></li>
              
            
              
                <li><a href="/impressum">Impressum</a></li>
              
            
              
                <li><a href="/tags/project">Projects</a></li>
              
            
              
                <li><a href="https://github.com/thomux/thomux.github.io/issues">Report an issue</a></li>
              
            
          </ul>
        </ul>
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/contact">Contact</a></li>
      
    
      
        <li><a href="https://github.com/thomux">Github</a></li>
      
    
      
        <li><a href="/impressum">Impressum</a></li>
      
    
      
        <li><a href="/tags/project">Projects</a></li>
      
    
      
        <li><a href="https://github.com/thomux/thomux.github.io/issues">Report an issue</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://thomux.eu/posts/project-jira-ticket-stats/">Project Jira Ticket Stats</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2021-11-29
        
      </span>
    
    
      <span class="post-author">:: Thomux</span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://thomux.eu/tags/project/">project</a>&nbsp;
    
    #<a href="https://thomux.eu/tags/go/">go</a>&nbsp;
    
    #<a href="https://thomux.eu/tags/jira/">jira</a>&nbsp;
    
    #<a href="https://thomux.eu/tags/stats/">stats</a>&nbsp;
    
  </span>
  
  


  

  <div class="post-content"><div>
        <p>[Project on Github](github: <a href="https://github.com/thomux/ticketstats">https://github.com/thomux/ticketstats</a>)</p>
<h2 id="usage">Usage<a href="#usage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>As input, a Jira Filter CSV export is used. An example Jira query is:</p>
<pre tabindex="0"><code class="language-jira" data-lang="jira">project = &quot;XXX&quot; and component = XXX and (resolutiondate is EMPTY or resolutiondate &gt;= startOfDay(-365))
</code></pre><p>This query can be exported as CVS, separated by Semicolons, and used as input
for this tool. To generate the report, run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">jiraticketstats -csv &lt;path to your export&gt;
</code></pre></div><p>JiraTicketStats supports the following parameters:</p>
<ul>
<li>csv: Path to the Jira export.</li>
<li>jira: Jira base URL to generate links. This URL + issue key should be valid.</li>
<li>project: Jira project key to filter the issue set.</li>
<li>component: Component name to filter the issue set.</li>
<li>splitByComponent: Generate a report for each components of the issue set.</li>
</ul>
<h2 id="example">Example<a href="#example" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>The file <code>exmple.data</code> contains some example issues. You can generate a example
test record with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">go run . -csv example.data
</code></pre></div><p>This will generate a the reports <code>report_.html</code> (all tickets) and the module
report <code>report_Module A.html</code>. To generate just a module report, the parameter
<code>component</code> can be used.</p>
<h2 id="report">Report<a href="#report" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>The output of JiraTicketStats is an HTML report containing the following sections:</p>
<ul>
<li>Old bug tickets</li>
<li>Bug tickets</li>
<li>Features</li>
<li>Improvements</li>
<li>Other tickets</li>
<li>Resources</li>
<li>Warnings</li>
</ul>
<h3 id="old-bug-tickets">Old bug tickets<a href="#old-bug-tickets" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The old bug tickets section consists of a table listing all bug tickets older
than 30 days. For each ticket the following data is displayed:</p>
<ul>
<li>Issue: Jira ticket key and summary. The key is a link to the ticket in Jira.</li>
<li>Age: The age of the tickets as days, calculated using the Jira creation date.</li>
<li>Labels: All labels assigned to the ticket.</li>
<li>Status: The current status of the ticket.</li>
<li>Creator: The user name of the Jira user who created the ticket.</li>
<li>Assignee: The user name of the Jira user who is assigned to the ticket.</li>
</ul>
<p><img src="/images/jiraticketstats/OldBugs.png" alt="OldBugs.png"></p>
<h3 id="bug-tickets">Bug tickets<a href="#bug-tickets" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The bug tickets section consists of three parts showing different bug ticket
evaluations.</p>
<p><img src="/images/jiraticketstats/BugTickets.png" alt="BugTickets.png"></p>
<p>The first block show the change of ticket count in the last week and the last
month. The &ldquo;created&rdquo; value is the sum of all bug tickets with a created date
in the last week or month. The &ldquo;resolved&rdquo; value is the sum of all bug tickets
with a resolved date in the last week or month. The &ldquo;diff&rdquo; is the difference
between the two values, i.e. the change in the bug count.</p>
<p><img src="/images/jiraticketstats/BugTicketsBlock1.png" alt="BugTicketsBlock1.png"></p>
<p>The second block is a matrix listing the ticket number for each fix version and
security level combination and a sum of the tickets for each security level.</p>
<p><img src="/images/jiraticketstats/BugTicketsBlock2.png" alt="BugTicketsBlock2.png"></p>
<p>The third block is a table of all tickets grouped by fix version and security
level. For each ticket the priority, the status, the created date, the key and
the summary is displayed.</p>
<p><img src="/images/jiraticketstats/BugTicketsBlock3.png" alt="BugTicketsBlock3.png"></p>
<h3 id="features">Features<a href="#features" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The features section show a table containing all active feature tickets. Linked
tickets are clustered. For each ticket the following information is displayed:</p>
<ul>
<li>Key</li>
<li>Summary</li>
<li>Status</li>
<li>Fix Versions</li>
<li>Due</li>
<li>Time spend: Booked hours for the Jira ticket.</li>
<li>Estimate: Estimated hours for the ticket.</li>
<li>Progress: The ticket progress, calculated using time spend and the estimate.</li>
<li>FTE: The necessary FTEs to do the remaining work while keeping the due date.</li>
</ul>
<p><img src="/images/jiraticketstats/Features.png" alt="Features.png"></p>
<h3 id="improvements">Improvements<a href="#improvements" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The improvements section shows the same information as the features section, but
for the ticket type &ldquo;Improvement&rdquo; (config.Types.Improvement).</p>
<p><img src="/images/jiraticketstats/Improvements.png" alt="Improvements.png"></p>
<h3 id="other-tickets">Other tickets<a href="#other-tickets" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The other tickets section gives a small overview over the ticket count changes
for the other ticket types, e.g. &ldquo;Task&rdquo; or &ldquo;Sub-Task&rdquo;</p>
<p><img src="/images/jiraticketstats/OtherTickets.png" alt="OtherTickets.png"></p>
<h3 id="resources">Resources<a href="#resources" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The resources section provides different evaluations of the spend work hours.</p>
<p><img src="/images/jiraticketstats/Resources.png" alt="Resources.png"></p>
<p>The first block gives an overview about the spend work hours and for which types
and labels these hours were spend. The evaluated time ranges are last week,
last month, last quarter and last year.</p>
<p><img src="/images/jiraticketstats/ResourcesBlock1.png" alt="ResourcesBlock1.png"></p>
<p>The second block gives an overview about the average (median an mean) work time
for each ticket type. The evaluation considers all tickets with booked hours
(time spend &gt; 0) which were closed during the last quarter and during the last
year.</p>
<p><img src="/images/jiraticketstats/ResourcesBlock2.png" alt="ResourcesBlock2.png"></p>
<h3 id="warnings">Warnings<a href="#warnings" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>The warnings section gives and overview of all tickets with sanitize check
issues.</p>
<p><img src="/images/jiraticketstats/Warnings.png" alt="Warnings.png"></p>
<p>The first block shows all tickets without an assigned activity.</p>
<p><img src="/images/jiraticketstats/WarningsBlock1.png" alt="WarningsBlock1.png"></p>
<p>The second block shows all tickets with invalid work logs. A work log is
considered invalid if the ticket has an assigned activity and the activity of
a work log doesn&rsquo;t match this activity.</p>
<p><img src="/images/jiraticketstats/WarningsBlock2.png" alt="WarningsBlock2.png"></p>
<h2 id="config">Config<a href="#config" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>JiraTicketStats supports a configuration of different formats and external
constants, e.g. ticket names. These values are internally stored in a config
structure implemented in <code>config.go</code>. When the tool is executed, a file
<code>config.json</code> is read form the current working directory. If this file doesn&rsquo;t
exist it is created using default values.</p>
<h2 id="architecture">Architecture<a href="#architecture" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>JiraTicketStats is implemented using the package <code>ticketstats</code> and split in different
Go files, grouping logical sections.</p>
<h3 id="config-1">Config<a href="#config-1" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>JiraTicketStats is using Config data structures which groups different values,
mostly strings, required during the processing steps and configured in Jira,
e.g. type and state names. This is implemented in <code>config.go</code>.</p>
<h3 id="data">Data<a href="#data" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>It using two types of data models, one for evaluation implemented in <code>issue.go</code>,
and one for rendering, implemented in <code>render.go</code>.</p>
<h4 id="parsing-the-data">Parsing the data<a href="#parsing-the-data" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>JiraTicketStats reads the following field from the Jira export to the evaluation
data type:</p>
<ul>
<li>&ldquo;Summary -&gt; issue.Summary (string)</li>
<li>Issue key -&gt; issue.Key (string)</li>
<li>Issue id -&gt; issue.Id (string)</li>
<li>Parent id -&gt; issue.Parent (string)</li>
<li>Issue Type -&gt; issue.Type (string)</li>
<li>Status -&gt; issue.Status (string)</li>
<li>Priority -&gt; issue.Priority (string)</li>
<li>Assignee -&gt; issue.Assignee (string)</li>
<li>Creator -&gt; issue.Creator  (string)</li>
<li>Created -&gt; issue.Created (time.Time)</li>
<li>Updated -&gt; issue.Updated (time.Time)</li>
<li>Last Viewed -&gt; issue.LastViewed (time.Time)</li>
<li>Affects Version/s -&gt; issue.AffectsVersions ([]string)</li>
<li>Fix Version/s -&gt; issue.FixVersions ([]string)</li>
<li>Component/s -&gt; issue.Components ([]string)</li>
<li>Log Work -&gt; issue.LogWorks ([]WorkLog)</li>
<li>Original Estimate -&gt; issue.OriginalEstimate (Work)</li>
<li>Remaining Estimate -&gt; issue.RemainingEstimate (Work)</li>
<li>Time Spent -&gt; issue.TimeSpend (Work)</li>
<li>Σ Original Estimate -&gt; issue.SumOriginalEstimate (Work)</li>
<li>Σ Remaining Estimate -&gt; issue.SumRemainingEstimate (Work)</li>
<li>Σ Time Spent -&gt; issue.SumTimeSpend (Work)</li>
<li>Security Level -&gt; issue.SecurityLevel (string)</li>
<li>Labels -&gt; issue.Labels ([]string)</li>
<li>Resolution -&gt; issue.Resolution (string)</li>
<li>Resolved -&gt; issue.Resolved (time.Time)</li>
<li>Due Date -&gt; issue.Due (time.Time)</li>
<li>Outward issue link (Blocks) -&gt; issue.LinkBlocks ([]string)</li>
<li>Outward issue link (Causes) -&gt; issue.LinkCauses ([]string)</li>
<li>Outward issue link (Cloners)-&gt; issue.LinkCloners ([]string)</li>
<li>Outward issue link (Dependency) -&gt; issue.LinkDependencies ([]string)</li>
<li>Outward issue link (Duplicate) -&gt; issue.LinkDuplicates ([]string)</li>
<li>Outward issue link (Issue split)-&gt; issue.LinkIssueSplits ([]string)</li>
<li>Outward issue link (Part) -&gt; issue.LinkParts ([]string)</li>
<li>Outward issue link (Relates) -&gt; issue.LinkRelates ([]string)</li>
<li>Outward issue link (Relation)-&gt; issue.LinkRelations ([]string)</li>
<li>Outward issue link (Triggers) -&gt; issue.LinkTriggers ([]string)</li>
<li>Outward issue link (linkIssue)-&gt; issue.LinkLinkIssues ([]string)</li>
<li>Outward issue link (parent) -&gt; issue.LinkParents ([]string)</li>
<li>config.Customs.ExternalId -&gt; issue.CustomExternalId (string)</li>
<li>config.Customs.SupplierReference -&gt; issue.CustomSupplierRef (string)</li>
<li>config.Customs.Variant -&gt; issue.CustomVariant (string)</li>
<li>config.Customs.Account -&gt; issue.CustomActivity (string)</li>
<li>config.Customs.Category -&gt; issue.CustomCategory (string)</li>
</ul>
<p>The implementation can be found <code>issue.go</code>.</p>
<h4 id="type-worklog">Type WorkLog<a href="#type-worklog" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>The type &lsquo;WorkLog&rsquo; is defined in <code>issue.go</code> and splits the Jira &lsquo;Log Work&rsquo; data
into teh fields:</p>
<ul>
<li>Hours (Work)</li>
<li>Date (time.Time)</li>
<li>Activity (string)</li>
</ul>
<h4 id="type-work">Type Work<a href="#type-work" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>The type Work is used to represent work hours. It is just a float64 with the
unit work hours, not seconds as used by Jira.</p>
<h4 id="generating-the-report">Generating the report<a href="#generating-the-report" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>For generating the report different types are used, supporting rendered values,
e.g. string instead of time.Time for dates. The data types for rendering are
defined in <code>render.go</code>. The main render function is <code>Issue.ToReportIssue</code> which
transforms an Issue to its report representation.</p>
<p>The statistic calculations are implemented in <code>stats.go</code>.</p>
<p>The main logic, for parsing the data, generating the data for the different
report sections and the rendering of the report is implemented in
<code>ticketstats.go</code>.</p>

      </div></div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2021 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://thomux.eu/assets/main.js"></script>
<script src="https://thomux.eu/assets/prism.js"></script>







  
</div>

</body>
</html>
